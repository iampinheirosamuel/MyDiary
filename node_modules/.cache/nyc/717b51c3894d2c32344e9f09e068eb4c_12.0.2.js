'use strict';var cov_1bgo3psn96=function(){var path="C:\\Users\\SamuelPinheiro\\Downloads\\Udacity\\MyDiary\\MyDiary\\server\\index.js",hash="6743fda2d1894af3e39859e90290c84f6de309f6",Function=function(){}.constructor,global=new Function('return this')(),gcv="__coverage__",coverageData={path:"C:\\Users\\SamuelPinheiro\\Downloads\\Udacity\\MyDiary\\MyDiary\\server\\index.js",statementMap:{"0":{start:{line:3,column:35},end:{line:3,column:193}},"1":{start:{line:3,column:61},end:{line:3,column:145}},"2":{start:{line:3,column:126},end:{line:3,column:143}},"3":{start:{line:3,column:146},end:{line:3,column:158}},"4":{start:{line:3,column:168},end:{line:3,column:191}},"5":{start:{line:6,column:14},end:{line:6,column:32}},"6":{start:{line:7,column:10},end:{line:7,column:19}},"7":{start:{line:8,column:17},end:{line:8,column:39}},"8":{start:{line:10,column:0},end:{line:10,column:51}},"9":{start:{line:11,column:0},end:{line:11,column:27}},"10":{start:{line:12,column:11},end:{line:12,column:35}},"11":{start:{line:15,column:13},end:{line:15,column:29}},"12":{start:{line:18,column:0},end:{line:20,column:3}},"13":{start:{line:19,column:4},end:{line:19,column:11}},"14":{start:{line:24,column:14},end:{line:24,column:25}},"15":{start:{line:25,column:0},end:{line:41,column:3}},"16":{start:{line:26,column:16},end:{line:26,column:26}},"17":{start:{line:27,column:16},end:{line:27,column:18}},"18":{start:{line:28,column:4},end:{line:40,column:5}},"19":{start:{line:29,column:8},end:{line:29,column:35}},"20":{start:{line:30,column:8},end:{line:30,column:41}},"21":{start:{line:31,column:8},end:{line:31,column:113}},"22":{start:{line:32,column:8},end:{line:32,column:27}},"23":{start:{line:33,column:8},end:{line:35,column:11}},"24":{start:{line:37,column:8},end:{line:39,column:11}},"25":{start:{line:44,column:0},end:{line:51,column:3}},"26":{start:{line:45,column:4},end:{line:47,column:5}},"27":{start:{line:46,column:8},end:{line:46,column:76}},"28":{start:{line:48,column:4},end:{line:50,column:7}},"29":{start:{line:54,column:0},end:{line:63,column:3}},"30":{start:{line:55,column:4},end:{line:59,column:5}},"31":{start:{line:56,column:8},end:{line:58,column:11}},"32":{start:{line:60,column:4},end:{line:62,column:7}},"33":{start:{line:66,column:0},end:{line:73,column:3}},"34":{start:{line:67,column:20},end:{line:67,column:79}},"35":{start:{line:68,column:4},end:{line:68,column:35}},"36":{start:{line:69,column:4},end:{line:69,column:41}},"37":{start:{line:70,column:4},end:{line:72,column:7}},"38":{start:{line:76,column:0},end:{line:76,column:27}},"39":{start:{line:79,column:0},end:{line:79,column:17}},"40":{start:{line:80,column:0},end:{line:80,column:42}}},fnMap:{"0":{name:"_toConsumableArray",decl:{start:{line:3,column:9},end:{line:3,column:27}},loc:{start:{line:3,column:33},end:{line:3,column:195}},line:3},"1":{name:"(anonymous_1)",decl:{start:{line:18,column:11},end:{line:18,column:12}},loc:{start:{line:18,column:37},end:{line:20,column:1}},line:18},"2":{name:"(anonymous_2)",decl:{start:{line:25,column:30},end:{line:25,column:31}},loc:{start:{line:25,column:50},end:{line:41,column:1}},line:25},"3":{name:"(anonymous_3)",decl:{start:{line:44,column:29},end:{line:44,column:30}},loc:{start:{line:44,column:49},end:{line:51,column:1}},line:44},"4":{name:"(anonymous_4)",decl:{start:{line:54,column:39},end:{line:54,column:40}},loc:{start:{line:54,column:59},end:{line:63,column:1}},line:54},"5":{name:"(anonymous_5)",decl:{start:{line:66,column:39},end:{line:66,column:40}},loc:{start:{line:66,column:59},end:{line:73,column:1}},line:66}},branchMap:{"0":{loc:{start:{line:3,column:35},end:{line:3,column:193}},type:"if",locations:[{start:{line:3,column:35},end:{line:3,column:193}},{start:{line:3,column:35},end:{line:3,column:193}}],line:3},"1":{loc:{start:{line:12,column:11},end:{line:12,column:35}},type:"binary-expr",locations:[{start:{line:12,column:11},end:{line:12,column:27}},{start:{line:12,column:31},end:{line:12,column:35}}],line:12},"2":{loc:{start:{line:28,column:4},end:{line:40,column:5}},type:"if",locations:[{start:{line:28,column:4},end:{line:40,column:5}},{start:{line:28,column:4},end:{line:40,column:5}}],line:28},"3":{loc:{start:{line:28,column:8},end:{line:28,column:81}},type:"binary-expr",locations:[{start:{line:28,column:8},end:{line:28,column:41}},{start:{line:28,column:45},end:{line:28,column:81}}],line:28},"4":{loc:{start:{line:45,column:4},end:{line:47,column:5}},type:"if",locations:[{start:{line:45,column:4},end:{line:47,column:5}},{start:{line:45,column:4},end:{line:47,column:5}}],line:45},"5":{loc:{start:{line:55,column:4},end:{line:59,column:5}},type:"if",locations:[{start:{line:55,column:4},end:{line:59,column:5}},{start:{line:55,column:4},end:{line:59,column:5}}],line:55}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0]},_coverageSchema:"d34fc3e6b8297bcde183f5492bcb8fcb36775295"},coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}coverageData.hash=hash;return coverage[path]=coverageData;}();function _toConsumableArray(arr){cov_1bgo3psn96.f[0]++;cov_1bgo3psn96.s[0]++;if(Array.isArray(arr)){cov_1bgo3psn96.b[0][0]++;cov_1bgo3psn96.s[1]++;for(var i=0,arr2=Array(arr.length);i<arr.length;i++){cov_1bgo3psn96.s[2]++;arr2[i]=arr[i];}cov_1bgo3psn96.s[3]++;return arr2;}else{cov_1bgo3psn96.b[0][1]++;cov_1bgo3psn96.s[4]++;return Array.from(arr);}}// calls modules
var express=(cov_1bgo3psn96.s[5]++,require('express'));var app=(cov_1bgo3psn96.s[6]++,express());var bodyParser=(cov_1bgo3psn96.s[7]++,require('body-parser'));// configure app to use body-parser
cov_1bgo3psn96.s[8]++;app.use(bodyParser.urlencoded({extended:true}));cov_1bgo3psn96.s[9]++;app.use(bodyParser.json());// parses json
var port=(cov_1bgo3psn96.s[10]++,(cov_1bgo3psn96.b[1][0]++,process.env.PORT)||(cov_1bgo3psn96.b[1][1]++,8080));// set port
// Routes for API
var router=(cov_1bgo3psn96.s[11]++,express.Router());// middleware to use for all requests
cov_1bgo3psn96.s[12]++;router.use(function(req,res,next){cov_1bgo3psn96.f[1]++;cov_1bgo3psn96.s[13]++;next();});// Set Up Routes
// create an entry for MyDiary
var entries=(cov_1bgo3psn96.s[14]++,new Set([]));cov_1bgo3psn96.s[15]++;router.route('/entries').post(function(req,res){cov_1bgo3psn96.f[2]++;var today=(cov_1bgo3psn96.s[16]++,new Date());var entry=(cov_1bgo3psn96.s[17]++,{});cov_1bgo3psn96.s[18]++;if((cov_1bgo3psn96.b[3][0]++,typeof req.body.name==='string')&&(cov_1bgo3psn96.b[3][1]++,typeof req.body.content==='string')){cov_1bgo3psn96.b[2][0]++;cov_1bgo3psn96.s[19]++;entry.name=req.body.name;cov_1bgo3psn96.s[20]++;entry.content=req.body.content;cov_1bgo3psn96.s[21]++;entry.created_at=today.toLocaleDateString('en-US',{year:'numeric',month:'long',day:'numeric'});cov_1bgo3psn96.s[22]++;entries.add(entry);cov_1bgo3psn96.s[23]++;res.status(201).json({entries:'Entry added successfully'});}else{cov_1bgo3psn96.b[2][1]++;cov_1bgo3psn96.s[24]++;return res.status(400).send({Response:'Bad Request'});// 400 Bad Request
}});// get all entries for MyDiary
cov_1bgo3psn96.s[25]++;router.route('/entries').get(function(req,res){cov_1bgo3psn96.f[3]++;cov_1bgo3psn96.s[26]++;if(entries.size!==0){cov_1bgo3psn96.b[4][0]++;cov_1bgo3psn96.s[27]++;return res.status(200).json([].concat(_toConsumableArray(entries)));}else{cov_1bgo3psn96.b[4][1]++;}cov_1bgo3psn96.s[28]++;return res.status(400).send({Response:'Bad Request'});});// get an entry from MyDiary
cov_1bgo3psn96.s[29]++;router.route('/entries/:entry_id').get(function(req,res){cov_1bgo3psn96.f[4]++;cov_1bgo3psn96.s[30]++;if([].concat(_toConsumableArray(entries))[req.params.entry_id]){cov_1bgo3psn96.b[5][0]++;cov_1bgo3psn96.s[31]++;return res.status(200).json({entry:[].concat(_toConsumableArray(entries))[req.params.entry_id]});}else{cov_1bgo3psn96.b[5][1]++;}cov_1bgo3psn96.s[32]++;res.status(404).json({Response:'Not found'});});// modify an entry from MyDiary
cov_1bgo3psn96.s[33]++;router.route('/entries/:entry_id').put(function(req,res){cov_1bgo3psn96.f[5]++;var editEntry=(cov_1bgo3psn96.s[34]++,[].concat(_toConsumableArray(entries))[req.params.entry_id]);cov_1bgo3psn96.s[35]++;editEntry.name=req.body.name;cov_1bgo3psn96.s[36]++;editEntry.content=req.body.content;cov_1bgo3psn96.s[37]++;res.json({entry:editEntry});});// Register Routes
cov_1bgo3psn96.s[38]++;app.use('/api/v1',router);// Start the Server
cov_1bgo3psn96.s[39]++;app.listen(port);cov_1bgo3psn96.s[40]++;console.log('server started at: '+port);//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImV4cHJlc3MiLCJyZXF1aXJlIiwiYXBwIiwiYm9keVBhcnNlciIsInVzZSIsInVybGVuY29kZWQiLCJleHRlbmRlZCIsImpzb24iLCJwb3J0IiwicHJvY2VzcyIsImVudiIsIlBPUlQiLCJyb3V0ZXIiLCJSb3V0ZXIiLCJyZXEiLCJyZXMiLCJuZXh0IiwiZW50cmllcyIsIlNldCIsInJvdXRlIiwicG9zdCIsInRvZGF5IiwiRGF0ZSIsImVudHJ5IiwiYm9keSIsIm5hbWUiLCJjb250ZW50IiwiY3JlYXRlZF9hdCIsInRvTG9jYWxlRGF0ZVN0cmluZyIsInllYXIiLCJtb250aCIsImRheSIsImFkZCIsInN0YXR1cyIsInNlbmQiLCJSZXNwb25zZSIsImdldCIsInNpemUiLCJwYXJhbXMiLCJlbnRyeV9pZCIsInB1dCIsImVkaXRFbnRyeSIsImxpc3RlbiIsImNvbnNvbGUiLCJsb2ciXSwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBLElBQU1BLFVBQVVDLFFBQVEsU0FBUixDQUFoQjtBQUNBLElBQU1DLE1BQU1GLFNBQVo7QUFDQSxJQUFNRyxhQUFhRixRQUFRLGFBQVIsQ0FBbkI7QUFDQTtBQUNBQyxJQUFJRSxHQUFKLENBQVFELFdBQVdFLFVBQVgsQ0FBc0IsRUFBRUMsVUFBVSxJQUFaLEVBQXRCLENBQVI7QUFDQUosSUFBSUUsR0FBSixDQUFRRCxXQUFXSSxJQUFYLEVBQVIsRSxDQUE0QjtBQUM1QixJQUFNQyxPQUFPQyxRQUFRQyxHQUFSLENBQVlDLElBQVosSUFBb0IsSUFBakMsQyxDQUF1Qzs7QUFFdkM7QUFDQSxJQUFNQyxTQUFTWixRQUFRYSxNQUFSLEVBQWY7O0FBRUE7QUFDQUQsT0FBT1IsR0FBUCxDQUFXLFVBQUNVLEdBQUQsRUFBTUMsR0FBTixFQUFXQyxJQUFYLEVBQW9CO0FBQUVBO0FBQVMsQ0FBMUM7O0FBRUE7QUFDQTtBQUNBLElBQU1DLFVBQVUsSUFBSUMsR0FBSixDQUFRLEVBQVIsQ0FBaEI7QUFDQU4sT0FBT08sS0FBUCxDQUFhLFVBQWIsRUFBeUJDLElBQXpCLENBQThCLFVBQUNOLEdBQUQsRUFBTUMsR0FBTixFQUFjO0FBQ3BDLFFBQU1NLFFBQVEsSUFBSUMsSUFBSixFQUFkO0FBQ0EsUUFBTUMsUUFBUSxFQUFkO0FBQ0EsUUFBSSxPQUFPVCxJQUFJVSxJQUFKLENBQVNDLElBQWhCLEtBQXlCLFFBQXpCLElBQXFDLE9BQU9YLElBQUlVLElBQUosQ0FBU0UsT0FBaEIsS0FBNEIsUUFBckUsRUFBK0U7QUFDM0VILGNBQU1FLElBQU4sR0FBYVgsSUFBSVUsSUFBSixDQUFTQyxJQUF0QjtBQUNBRixjQUFNRyxPQUFOLEdBQWdCWixJQUFJVSxJQUFKLENBQVNFLE9BQXpCO0FBQ0FILGNBQU1JLFVBQU4sR0FBbUJOLE1BQU1PLGtCQUFOLENBQXlCLE9BQXpCLEVBQWtDLEVBQUVDLE1BQU0sU0FBUixFQUFtQkMsT0FBTyxNQUExQixFQUFrQ0MsS0FBSyxTQUF2QyxFQUFsQyxDQUFuQjtBQUNBZCxnQkFBUWUsR0FBUixDQUFZVCxLQUFaO0FBQ0FSLFlBQUlrQixNQUFKLENBQVcsR0FBWCxFQUFnQjFCLElBQWhCLENBQXFCO0FBQ2pCVSxxQkFBUztBQURRLFNBQXJCO0FBR0gsS0FSRCxNQVFPO0FBQ0gsZUFBT0YsSUFBSWtCLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUN4QkMsc0JBQVU7QUFEYyxTQUFyQixDQUFQLENBREcsQ0FHQztBQUNQO0FBQ0osQ0FoQkw7O0FBbUJBO0FBQ0F2QixPQUFPTyxLQUFQLENBQWEsVUFBYixFQUNLaUIsR0FETCxDQUNTLFVBQUN0QixHQUFELEVBQU1DLEdBQU4sRUFBYztBQUNmLFFBQUlFLFFBQVFvQixJQUFSLEtBQWlCLENBQXJCLEVBQXdCO0FBQ3BCLGVBQU90QixJQUFJa0IsTUFBSixDQUFXLEdBQVgsRUFBZ0IxQixJQUFoQiw4QkFBeUJVLE9BQXpCLEdBQVA7QUFDSDtBQUNELFdBQU9GLElBQUlrQixNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7QUFDeEJDLGtCQUFVO0FBRGMsS0FBckIsQ0FBUDtBQUtILENBVkw7O0FBWUE7QUFDQXZCLE9BQU9PLEtBQVAsQ0FBYSxvQkFBYixFQUNLaUIsR0FETCxDQUNTLFVBQUN0QixHQUFELEVBQU1DLEdBQU4sRUFBYztBQUNmLFFBQUksNkJBQUlFLE9BQUosR0FBYUgsSUFBSXdCLE1BQUosQ0FBV0MsUUFBeEIsQ0FBSixFQUF1QztBQUNuQyxlQUFPeEIsSUFBSWtCLE1BQUosQ0FBVyxHQUFYLEVBQWdCMUIsSUFBaEIsQ0FBcUI7QUFDeEJnQixtQkFBTyw2QkFBSU4sT0FBSixHQUFhSCxJQUFJd0IsTUFBSixDQUFXQyxRQUF4QjtBQURpQixTQUFyQixDQUFQO0FBR0g7QUFDRHhCLFFBQUlrQixNQUFKLENBQVcsR0FBWCxFQUFnQjFCLElBQWhCLENBQXFCO0FBQ2pCNEIsa0JBQVU7QUFETyxLQUFyQjtBQUdILENBVkw7O0FBWUE7QUFDQXZCLE9BQU9PLEtBQVAsQ0FBYSxvQkFBYixFQUNLcUIsR0FETCxDQUNTLFVBQUMxQixHQUFELEVBQU1DLEdBQU4sRUFBYztBQUNmLFFBQU0wQixZQUFZLDZCQUFJeEIsT0FBSixHQUFhSCxJQUFJd0IsTUFBSixDQUFXQyxRQUF4QixDQUFsQjtBQUNBRSxjQUFVaEIsSUFBVixHQUFpQlgsSUFBSVUsSUFBSixDQUFTQyxJQUExQjtBQUNBZ0IsY0FBVWYsT0FBVixHQUFvQlosSUFBSVUsSUFBSixDQUFTRSxPQUE3QjtBQUNBWCxRQUFJUixJQUFKLENBQVM7QUFDTGdCLGVBQU9rQjtBQURGLEtBQVQ7QUFHSCxDQVJMOztBQVVBO0FBQ0F2QyxJQUFJRSxHQUFKLENBQVEsU0FBUixFQUFtQlEsTUFBbkI7O0FBRUE7QUFDQVYsSUFBSXdDLE1BQUosQ0FBV2xDLElBQVg7QUFDQW1DLFFBQVFDLEdBQVIseUJBQWtDcEMsSUFBbEMiLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiQzovVXNlcnMvU2FtdWVsUGluaGVpcm8vRG93bmxvYWRzL1VkYWNpdHkvTXlEaWFyeS9NeURpYXJ5L3NlcnZlciIsInNvdXJjZXNDb250ZW50IjpbIi8vIGNhbGxzIG1vZHVsZXNcclxuY29uc3QgZXhwcmVzcyA9IHJlcXVpcmUoJ2V4cHJlc3MnKTtcclxuY29uc3QgYXBwID0gZXhwcmVzcygpOyAgICAgICAgICBcclxuY29uc3QgYm9keVBhcnNlciA9IHJlcXVpcmUoJ2JvZHktcGFyc2VyJyk7XHJcbi8vIGNvbmZpZ3VyZSBhcHAgdG8gdXNlIGJvZHktcGFyc2VyXHJcbmFwcC51c2UoYm9keVBhcnNlci51cmxlbmNvZGVkKHsgZXh0ZW5kZWQ6IHRydWUgfSkpO1xyXG5hcHAudXNlKGJvZHlQYXJzZXIuanNvbigpKTsgLy8gcGFyc2VzIGpzb25cclxuY29uc3QgcG9ydCA9IHByb2Nlc3MuZW52LlBPUlQgfHwgODA4MDsgLy8gc2V0IHBvcnRcclxuXHJcbi8vIFJvdXRlcyBmb3IgQVBJXHJcbmNvbnN0IHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XHJcblxyXG4vLyBtaWRkbGV3YXJlIHRvIHVzZSBmb3IgYWxsIHJlcXVlc3RzXHJcbnJvdXRlci51c2UoKHJlcSwgcmVzLCBuZXh0KSA9PiB7IG5leHQoKTsgfSk7XHJcblxyXG4vLyBTZXQgVXAgUm91dGVzXHJcbi8vIGNyZWF0ZSBhbiBlbnRyeSBmb3IgTXlEaWFyeVxyXG5jb25zdCBlbnRyaWVzID0gbmV3IFNldChbXSk7XHJcbnJvdXRlci5yb3V0ZSgnL2VudHJpZXMnKS5wb3N0KChyZXEsIHJlcykgPT4ge1xyXG4gICAgICAgIGNvbnN0IHRvZGF5ID0gbmV3IERhdGUoKTtcclxuICAgICAgICBjb25zdCBlbnRyeSA9IHt9O1xyXG4gICAgICAgIGlmICh0eXBlb2YgcmVxLmJvZHkubmFtZSA9PT0gJ3N0cmluZycgJiYgdHlwZW9mIHJlcS5ib2R5LmNvbnRlbnQgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgIGVudHJ5Lm5hbWUgPSByZXEuYm9keS5uYW1lO1xyXG4gICAgICAgICAgICBlbnRyeS5jb250ZW50ID0gcmVxLmJvZHkuY29udGVudDtcclxuICAgICAgICAgICAgZW50cnkuY3JlYXRlZF9hdCA9IHRvZGF5LnRvTG9jYWxlRGF0ZVN0cmluZygnZW4tVVMnLCB7IHllYXI6ICdudW1lcmljJywgbW9udGg6ICdsb25nJywgZGF5OiAnbnVtZXJpYycgfSk7XHJcbiAgICAgICAgICAgIGVudHJpZXMuYWRkKGVudHJ5KTtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDEpLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgZW50cmllczogJ0VudHJ5IGFkZGVkIHN1Y2Nlc3NmdWxseScsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBSZXNwb25zZTogJ0JhZCBSZXF1ZXN0JyxcclxuICAgICAgICAgICAgfSk7IC8vIDQwMCBCYWQgUmVxdWVzdFxyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuXHJcbi8vIGdldCBhbGwgZW50cmllcyBmb3IgTXlEaWFyeVxyXG5yb3V0ZXIucm91dGUoJy9lbnRyaWVzJylcclxuICAgIC5nZXQoKHJlcSwgcmVzKSA9PiB7XHJcbiAgICAgICAgaWYgKGVudHJpZXMuc2l6ZSAhPT0gMCkge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oWy4uLmVudHJpZXNdKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5zZW5kKHtcclxuICAgICAgICAgICAgUmVzcG9uc2U6ICdCYWQgUmVxdWVzdCdcclxuICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgfSk7XHJcblxyXG4vLyBnZXQgYW4gZW50cnkgZnJvbSBNeURpYXJ5XHJcbnJvdXRlci5yb3V0ZSgnL2VudHJpZXMvOmVudHJ5X2lkJylcclxuICAgIC5nZXQoKHJlcSwgcmVzKSA9PiB7XHJcbiAgICAgICAgaWYgKFsuLi5lbnRyaWVzXVtyZXEucGFyYW1zLmVudHJ5X2lkXSkge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgZW50cnk6IFsuLi5lbnRyaWVzXVtyZXEucGFyYW1zLmVudHJ5X2lkXVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmVzLnN0YXR1cyg0MDQpLmpzb24oe1xyXG4gICAgICAgICAgICBSZXNwb25zZTogJ05vdCBmb3VuZCdcclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuLy8gbW9kaWZ5IGFuIGVudHJ5IGZyb20gTXlEaWFyeVxyXG5yb3V0ZXIucm91dGUoJy9lbnRyaWVzLzplbnRyeV9pZCcpXHJcbiAgICAucHV0KChyZXEsIHJlcykgPT4ge1xyXG4gICAgICAgIGNvbnN0IGVkaXRFbnRyeSA9IFsuLi5lbnRyaWVzXVtyZXEucGFyYW1zLmVudHJ5X2lkXTtcclxuICAgICAgICBlZGl0RW50cnkubmFtZSA9IHJlcS5ib2R5Lm5hbWU7XHJcbiAgICAgICAgZWRpdEVudHJ5LmNvbnRlbnQgPSByZXEuYm9keS5jb250ZW50O1xyXG4gICAgICAgIHJlcy5qc29uKHtcclxuICAgICAgICAgICAgZW50cnk6IGVkaXRFbnRyeSxcclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuLy8gUmVnaXN0ZXIgUm91dGVzXHJcbmFwcC51c2UoJy9hcGkvdjEnLCByb3V0ZXIpO1xyXG5cclxuLy8gU3RhcnQgdGhlIFNlcnZlclxyXG5hcHAubGlzdGVuKHBvcnQpO1xyXG5jb25zb2xlLmxvZyhgc2VydmVyIHN0YXJ0ZWQgYXQ6ICR7cG9ydH1gKTtcclxuIl19